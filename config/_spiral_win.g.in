# This file is generated by CMake and will be overwritten if you
# re-run make install

if not IsBound(LocalConfig) then
	#Print("\nLoading spiral\n");
	Load(spiral);
fi;

LoadPackage("arep");

LocalConfig.cpuinfo := CopyFields(SupportedCPUs.@CPU_ARCH_TYPE@, rec(
    freq := @CPU_FREQUENCY@
));

LocalConfig.osinfo := SupportedOSs.@SPIRAL_OS_NAME@;

# set to true to use ICC or GCC for profiling, otherwise default to Visual Studio
UseICC := @USE_COMPILER_ICC@;
UseGCC := @USE_COMPILER_GCC@;
if (UseICC) then
	# ICC
	SpiralDefaults.profile := spiral.profiler.default_profiles.win_x64_icc;
	SpiralDefaults.target := rec(name:="win-x64-icc");
	LocalConfig.compilerinfo := SupportedCompilers.IntelC;
elif (UseGCC) then
	# GCC
	SpiralDefaults.profile := spiral.profiler.default_profiles.win_x86_gcc;
	SpiralDefaults.target := rec(name:="win-x86-gcc");
	LocalConfig.compilerinfo := SupportedCompilers.GnuC;
else
	# Visual Studio
	SpiralDefaults.profile := spiral.profiler.default_profiles.win_x86_vcc;
	SpiralDefaults.target := rec(name:="win-x86-vcc");
	LocalConfig.compilerinfo := SupportedCompilers.VisualC;
fi;

